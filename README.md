# CitationAIHLNCheck - AI Citation Verifier / AI å¼•æ–‡çœŸå®æ€§è‡ªåŠ¨åŒ–æŸ¥è¯å·¥å…·

[![Python Version](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

[English](#english) | [ä¸­æ–‡](#ä¸­æ–‡)

---

<a name="english"></a>

## English

**CitationAIHLNCheck** is an automated BibTeX citation verification tool designed for researchers and developers. It effectively identifies "hallucinated citations" generated by Large Language Models (LLMs) and ensures the authenticity and accuracy of citations through cross-verification with multi-source APIs.

### ğŸŒŸ Key Features

- **Automated Full Scan**: Automatically identifies and processes all `.bib` files in the current directory.
- **Multi-Source Cross-Verification**: Integrates three authoritative academic databases: Crossref, Semantic Scholar, and arXiv.
- **Anti-Hallucination Algorithm**: Combines deep title similarity, author matching, and **strict year validation** to accurately intercept forged literature.
- **Smart Retry Mechanism**: Built-in exponential backoff algorithm to gracefully handle API rate limiting.
- **Visualized Reports**: Automatically generates beautiful Markdown verification reports including DOI links, matching scores, and failure reasons.

### ğŸ› ï¸ How It Works

The system adopts a "funnel" verification logic:
1. **Exact Match**: Priority is given to gold-standard verification via DOI.
2. **Fuzzy Retrieval**: Uses the `RapidFuzz` algorithm for word-level title comparison, compatible with various formatting differences.
3. **Weighted Scoring**:
   - **Title Similarity**: Base score.
   - **Author Bonus**: Extra points for matching the first author's surname.
   - **Year Penalty**: Mismatched years (error > 2 years) will face heavy penalties, which is key to identifying fake literature.

### ğŸš€ Quick Start

#### 1. Install Dependencies
```bash
pip install -r requirements.txt
```

#### 2. Run Verification
Place your `.bib` files in the project root directory and run:
```bash
python main.py
```
Or specify a specific file:
```bash
python main.py example.bib
```

#### 3. View Results
After verification, a corresponding `*_report.md` file will be generated in the project directory.

### ğŸ“‚ Project Structure
- `main.py`: Entry point, responsible for scheduling and report generation.
- `src/`: Core logic modules (parser, verifier).
- `ERROR_LOG.md`: Records technical challenges and solutions during development.
- `example.bib`: Example file containing both real and fake literature for testing.

---

<a name="ä¸­æ–‡"></a>

## ä¸­æ–‡

**CitationAIHLNCheck** æ˜¯ä¸€æ¬¾ä¸“ä¸ºç§‘ç ”äººå‘˜å’Œå¼€å‘è€…è®¾è®¡çš„ BibTeX å¼•æ–‡è‡ªåŠ¨åŒ–æŸ¥è¯å·¥å…·ã€‚å®ƒèƒ½å¤Ÿæœ‰æ•ˆè¯†åˆ«ç”±å¤§è¯­è¨€æ¨¡å‹ï¼ˆå¦‚ ChatGPTï¼‰ç”Ÿæˆçš„â€œå¹»è§‰æ–‡çŒ®â€ï¼Œå¹¶é€šè¿‡å¤šæº API äº¤å‰éªŒè¯ç¡®ä¿å¼•æ–‡çš„çœŸå®æ€§ä¸å‡†ç¡®æ€§ã€‚

### ğŸŒŸ æ ¸å¿ƒåŠŸèƒ½

- **è‡ªåŠ¨åŒ–å…¨æ‰«æ**: è‡ªåŠ¨è¯†åˆ«å¹¶å¤„ç†å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ `.bib` æ–‡ä»¶ã€‚
- **å¤šæºäº¤å‰éªŒè¯**: é›†æˆ Crossref, Semantic Scholar, ä»¥åŠ arXiv ä¸‰å¤§æƒå¨å­¦æœ¯æ•°æ®åº“ã€‚
- **æŠ—å¹»è§‰ç®—æ³•**: æ·±åº¦ç»“åˆæ ‡é¢˜ç›¸ä¼¼åº¦ã€ä½œè€…åŒ¹é…ä»¥åŠ**ä¸¥æ ¼å¹´ä»½æ ¡éªŒ**ï¼Œç²¾å‡†æ‹¦æˆªä¼ªé€ æ–‡çŒ®ã€‚
- **æ™ºèƒ½é‡è¯•æœºåˆ¶**: å†…ç½®æŒ‡æ•°é€€é¿ç®—æ³•ï¼Œä¼˜é›…å¤„ç† API é¢‘ç‡é™åˆ¶ï¼ˆRate Limitingï¼‰ã€‚
- **å¯è§†åŒ–æŠ¥å‘Š**: è‡ªåŠ¨ç”Ÿæˆç¾è§‚çš„ Markdown æŸ¥è¯æŠ¥å‘Šï¼ŒåŒ…å« DOI é“¾æ¥ã€åŒ¹é…å¾—åˆ†åŠå¤±è´¥åŸå› ã€‚

### ğŸ› ï¸ å·¥ä½œåŸç†

ç³»ç»Ÿé‡‡ç”¨â€œæ¼æ–—å¼â€æ ¡éªŒé€»è¾‘ï¼š
1. **ç²¾ç¡®åŒ¹é…**: ä¼˜å…ˆé€šè¿‡ DOI è¿›è¡Œé‡‘æ ‡å‡†éªŒè¯ã€‚
2. **æ¨¡ç³Šæ£€ç´¢**: åˆ©ç”¨ `RapidFuzz` ç®—æ³•å¯¹æ ‡é¢˜è¿›è¡Œå•è¯çº§æ’åºæ¯”å¯¹ï¼Œå…¼å®¹å„ç§æ’ç‰ˆå·®å¼‚ã€‚
3. **åŠ æƒè¯„åˆ†**:
   - **æ ‡é¢˜ç›¸ä¼¼åº¦**: åŸºç¡€åˆ†ã€‚
   - **ä½œè€…åŠ åˆ†**: å‘½ä¸­ç¬¬ä¸€ä½œè€…å§“æ°é¢å¤–åŠ åˆ†ã€‚
   - **å¹´ä»½æƒ©ç½š**: å¹´ä»½ä¸åŒ¹é…ï¼ˆè¯¯å·® > 2å¹´ï¼‰å°†é¢ä¸´é‡åº¦æ‰£åˆ†ï¼Œè¿™æ˜¯è¯†åˆ«å‡æ–‡çŒ®çš„å…³é”®ã€‚

### ğŸš€ å¿«é€Ÿå¼€å§‹

#### 1. å®‰è£…ä¾èµ–
```bash
pip install -r requirements.txt
```

#### 2. è¿è¡ŒæŸ¥è¯
å°†æ‚¨çš„ `.bib` æ–‡ä»¶æ”¾å…¥é¡¹ç›®æ ¹ç›®å½•ï¼Œç›´æ¥è¿è¡Œï¼š
```bash
python main.py
```
æˆ–è€…æŒ‡å®šç‰¹å®šæ–‡ä»¶ï¼š
```bash
python main.py example.bib
```

#### 3. æŸ¥çœ‹ç»“æœ
æŸ¥è¯å®Œæˆåï¼Œé¡¹ç›®ç›®å½•ä¸‹å°†ç”Ÿæˆå¯¹åº”çš„ `*_report.md` æ–‡ä»¶ã€‚

### ğŸ“‚ é¡¹ç›®ç»“æ„
- `main.py`: ç¨‹åºå…¥å£ï¼Œè´Ÿè´£è°ƒåº¦ä¸æŠ¥å‘Šç”Ÿæˆã€‚
- `src/`: æ ¸å¿ƒé€»è¾‘æ¨¡å—ï¼ˆè§£æå™¨ã€éªŒè¯å™¨ï¼‰ã€‚
- `ERROR_LOG.md`: è®°å½•å¼€å‘è¿‡ç¨‹ä¸­çš„æŠ€æœ¯æŒ‘æˆ˜ä¸è§£å†³æ–¹æ¡ˆã€‚
- `example.bib`: åŒ…å«çœŸå®æ–‡çŒ®ä¸æµ‹è¯•ç”¨ä¼ªé€ æ–‡çŒ®çš„ç¤ºä¾‹æ–‡ä»¶ã€‚
